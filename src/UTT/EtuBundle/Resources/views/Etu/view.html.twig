{% extends "UTTEtuBundle::layout.html.twig" %}

{% block stylesheets %}
    {# On charge le CSS de bootstrap depuis le site directement #}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/ficheEtu.css') }}"/>

{% endblock %}
{% block etu_body %}
    <div class="col-lg-12">
        <div class="row">
            <h2 class="col-lg-4">Fiche Etudiant</h2>
            <p id="idEtudiant">{{ idEtudiant }}</p>
            <div class="col-lg-2 col-lg-offset-6">
                <button class="bouton" id="editEtuBtn">Modifier</button>
            </div>
        </div>
    </div>
    <div class="col-lg-12">
        {{ form_start(form) }}
        <div class="form-group">{{ form_row(form.nom, {'attr':{'class':'form-control input-etu','disabled':'true'}}) }}</div>
        <div class="form-group">{{ form_row(form.prenom, {'attr':{'class':'form-control input-etu','disabled':'true'}}) }}</div>
        <div class="form-group">{{ form_row(form.admission, {'attr':{'class':'form-control input-etu','disabled':'true'}}) }}</div>
        <div class="form-group">{{ form_row(form.filliere, {'attr':{'class':'form-control input-etu','disabled':'true'}}) }}</div>
        <div id="hideButton" class="row">
            <div class="col-lg-4 col-lg-offset-4">
                <button type="submit" class="bouton">Valider</button>
            </div>
        </div>
        {{ form_end(form) }}
        <div class="row">
            <div class="col-lg-2">
                <form id="formDeleteEtudiant" action="{{ path('utt_etu_view',{'id':idEtudiant}) }}" method="POST">
                    <input type="text" name="deleteEtudiantBool" id="deleteEtudiantBool" class="inputfile" value="{{ idEtudiant }}"/>
                    <label for="deleteEtudiantbool" class="bouton" id="deleteEtudiant">Supprimer Etudiant</label>
                </form>
            </div>
            <div class="col-lg-2 col-lg-offset-6">
                <form id="formAddCursus" action="{{ path('utt_cursus_add') }}" method="POST">
                    <input type="text" name="idEtudiant" id="idEtudiant" class="inputfile" value="{{ idEtudiant }}"/>
                    <label for="idEtudiant" class="bouton" id="addCursusEtu">Ajouter Cursus</label>
                </form>
            </div>
            <div class="col-lg-2">
                <button class="bouton" type="button">Importer Cursus</button>
            </div>
        </div>
    </div>
    <div class="col-lg-12">
    {% for cursus in listeCursus %}
        <div class="row labelCursus">
            <h2>{{ cursus.label }}</h2>
        </div>
        {% set index=loop.index0 %}
        {% for semestre in listeSemester[index] %}
            {% for sem in semestre %}
                <div class="row labelTable"><h3>Semestre : {{ sem }}</h3></div>
                <div class="row">
                    <table class="table table-striped table-hover">
                        <th>Sigle</th><th>Catégorie</th><th>Affectation</th><th>Utt</th><th>Profil</th><th>Crédit</th><th>Resultat</th>
                        {% for element in cursus.elements %}
                            {% if element.semLabel.nom== sem %}
                                <tr><td>{{ element.sigle }}</td><td> {{ element.categorie.nom }} </td><td>{{ element.affectation.nom }}</td><td>{{ element.utt }}</td><td>{{ element.profil }}</td><td>{{ element.credit }}</td><td>{{ element.resultat.nom }}</td></tr>
                                {% endif %}
                        {% endfor %}
                    </table>
                </div>
            {% endfor %}
        {% endfor %}
        <div class="row">
            <button class=" bouton btn-delete-cursus col-lg-2">Supprimer</button>
            <button class="bouton btn-export-cursus col-lg-2">Exporter</button>
        </div>
    {% endfor %}
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset("js/ficheEtu.js") }}"></script>
{% endblock %}